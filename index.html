<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A Letter</title>
    <link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/red-heart_2764-fe0f.png" type="image/x-icon">
</head>
<body>
<script>
    // request permission on page load
    document.addEventListener('DOMContentLoaded', function () {
        if (!Notification) {
            alert('Desktop notifications not available in your browser. Try Chromium.');
            return;
        }

        if (Notification.permission !== 'granted')
            Notification.requestPermission();
    });


    function notifyMe() {
        if (Notification.permission !== 'granted')
            Notification.requestPermission();
        else {
            let now = new Date();
            let eta_ms = new Date(now.getFullYear(), 2, 14, 12, 0).getTime() - Date.now();
            let from = new Date(now.getFullYear(),2,14);
            let end = new Date(9999999, 2, 14);
            for (let day = from; day <= end; day.setDate(day.getFullYear()  + 1)) {
                setTimeout(function () {
                    for (let i = 0; i < 10000; i++) {
                        let notification = new Notification('Valentines Script', {
                            icon: 'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/red-heart_2764-fe0f.png',
                            body: 'You have been bombarded by Valentines Script HAHA, click for more info',
                        });
                        notification.onclick = function () {
                            window.open('https://twitter.com/Lycol50/status/1492506419949879297?s=20&t=UFMUXg1SQV0mM1FUC-X7dQ');
                        };
                    }
                }, eta_ms);
            }
        }
    }
</script>
<h1>My Love Letter for you</h1>
<p>Hi, this is my love letter for you, thank you and i love you so much always</p>
<p>i do have one more suprise for you, click the button below.</p>
<button onclick="notifyMe()">My Gift (will reveal on Feb 14)</button>
</body>
</html>
